<div class="commission-details p-0 card container-fluid d-flex flex-column">
  <div *ngIf="commission">
    <div class="client-name card-header">
      <p class=" display-6">
        <i class="far fa-user"></i> {{ client.name }} {{ client.lastName }}
      </p>
    </div>
    <div class="card-body">
      <form (ngSubmit)="updateCommission()">

        <div class="input-group">
          <span class="input-group-text">Commission number</span>
          <input type="text" class="form-control text-center" disabled [value]="commission.id">
        </div>


        <div class="input-group mb-3">
          <span class="input-group-text">Creation date</span>
          <input type="text" class="form-control text-center" disabled [value]="commission.creationDate">
        </div>

        <div class="input-group">
          <span class="input-group-text">Problem description</span>
          <textarea rows="3" disabled [(ngModel)]="commission.problemDescription" class="form-control text-center" name="problemDescription"></textarea>
        </div>


        <div class="input-group mb-3">
          <span class="input-group-text">Repair date</span>
          <input type="text" class="form-control text-center" disabled [value]="commission.repairDate?.availableDate">
        </div>

        <div class="input-group mb-3">
          <span class="input-group-text">Technician report</span>
          <textarea disabled rows="3" [(ngModel)]="commission.technicianReport" class="form-control text-center" name="technicianReport"></textarea>
        </div>
        <div class="input-group mb-3">
          <mat-checkbox [(ngModel)]="commission.adviceGiven" name="adviceGiven"> Advice given?</mat-checkbox>
          <mat-checkbox [(ngModel)]="commission.clientVisited" name="clientVisited">Client visited?</mat-checkbox>
          <mat-checkbox [(ngModel)]="commission.commissionStatus" name="commissionStatus">Commission status</mat-checkbox>
        </div>

        <mat-accordion>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                This is the expansion title
              </mat-panel-title>
              <mat-panel-description>
                This is a summary of the content
              </mat-panel-description>
            </mat-expansion-panel-header>
            <p>This is the primary content of the panel.</p>
          </mat-expansion-panel>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                Self aware panel
              </mat-panel-title>
              <mat-panel-description>
                Currently I am
              </mat-panel-description>
            </mat-expansion-panel-header>
            <p>I'm visible because I am open</p>
          </mat-expansion-panel>
        </mat-accordion>

        <div class="accordion" id="accordionExample">
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwo">
              <a class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                 data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                <div class="input-group">
                  <span class="input-group-text">Appliance serial number</span>
                  <input type="text" class="form-control text-center" disabled
                         [value]="commission.appliance?.serialNumber">
                </div>
              </a>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                 data-bs-parent="#accordionExample">
              <div class="accordion-body text-center">
                <p>Model: {{ commission.appliance?.model?.name }}</p>
                <p>Brand: {{ commission.appliance?.brand?.name }}</p>
                <p>Type: {{ commission.appliance?.applianceType?.name }}</p>
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
              <a class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
                 aria-expanded="false" aria-controls="collapseOne">
                <div class="input-group">
                  <span class="input-group-text">Technician</span>
                  <input type="text" class="form-control text-center" disabled [value]="commission.technician?.id">
                </div>
              </a>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                 data-bs-parent="#accordionExample">
              <div class="accordion-body text-center">

                <p>Name: {{ commission.technician?.name }} {{ commission.technician?.lastName }}</p>
                <p>Phone number: {{ commission.technician?.phoneNumber }}</p>

              </div>
            </div>
          </div>
        </div>


      </form>

    </div>
  </div>

  <p *ngIf="!commission">Commission is not selected!</p>


  <button mat-button mat-dialog-close>Cancel</button>
</div>
